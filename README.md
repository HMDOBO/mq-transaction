
# 简易支付系统
	
完成从商户到支付服务到银行多个系统模拟调用，支付系统里面又划分支付订单，会计记账，商户通知，资金账户等多个服务

分布式事务解决方案，柔性事务解决方案

#### 方案一：可靠消息最终一致型 --- 独立消息服务	最复杂，用的最多
#### 方案二：最大努力通知型 --- 定期校对
#### 方案三：TCC两阶段型
	
	
分布式事务问题出现场景

一个操作需要跨多个服务调用才能完成，那么spring本地事务是不起作用的，即使是用的同一个数据库，spring事务也不会起作用

为什么spring本地事务不起作用，看下面例子

	public String createOrder() {

		orderService.createOrder();	// 创建订单
		itemService.decrCount();	// 减库存
		userAccountService.updateAccount();	//用户账户更新

	}

假设上面三个操作都需要调用不同的服务，显然，当第三个操作用户账户更新失败时，前两个操作并不会回滚，因为并不是一个spring域

这便是微服务化分布式事务问题	
